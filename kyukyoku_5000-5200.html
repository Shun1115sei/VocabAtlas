<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate English Vocab Vol.2 (5000-5200)</title>
    <style>
        :root {
            --primary-color: #6c5ce7; /* èªå½™å­¦ç¿’ã‚‰ã—ã„ãƒ‘ãƒ¼ãƒ—ãƒ« */
            --success-color: #00b894;
            --warning-color: #fdcb6e;
            --bg-color: #f9f9fb;
            --card-width: 350px;
            --card-height: 480px;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif, 'Hiragino Kaku Gothic ProN', 'Meiryo';
            background-color: var(--bg-color);
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            color: #2d3436;
        }

        #header {
            margin-bottom: 25px;
            text-align: center;
        }

        .progress-info {
            font-size: 0.95rem;
            color: #636e72;
            margin-top: 8px;
            font-weight: 600;
        }

        .card-container {
            width: var(--card-width);
            height: var(--card-height);
            perspective: 1000px;
            cursor: pointer;
        }

        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            transform-style: preserve-3d;
        }

        .card.is-flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 25px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.08);
            display: flex;
            flex-direction: column;
            padding: 40px;
            box-sizing: border-box;
            background: white;
            border: 1px solid rgba(0,0,0,0.05);
        }

        .card-front {
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .word {
            font-size: 2.2rem;
            font-weight: 800;
            color: var(--primary-color);
            margin-bottom: 12px;
        }

        .phonetic {
            font-family: 'Arial', sans-serif;
            font-size: 1.2rem;
            color: #b2bec3;
            margin-bottom: 35px;
        }

        .audio-btn {
            background: #f1f2f6;
            border: none;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s, background 0.2s;
        }

        .audio-btn:hover {
            background: #dfe4ea;
            transform: scale(1.05);
        }

        .card-back {
            transform: rotateY(180deg);
            justify-content: flex-start;
            overflow-y: auto;
        }

        .translation {
            font-size: 1.6rem;
            font-weight: bold;
            color: #2d3436;
            border-bottom: 4px solid var(--warning-color);
            padding-bottom: 12px;
            margin-bottom: 25px;
            text-align: center;
        }

        .meaning-box {
            font-size: 1.05rem;
            line-height: 1.8;
            color: #4b4b4b;
        }

        /* ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒœã‚¿ãƒ³ä¸­å¤®å¯„ã› */
        .controls {
            margin-top: 35px;
            display: flex;
            justify-content: center;
            gap: 20px;
            width: 100%;
            max-width: var(--card-width);
        }

        button.action-btn {
            flex: 1;
            min-width: 140px;
            padding: 15px 10px;
            border: none;
            border-radius: 15px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        button.action-btn:active {
            transform: scale(0.96);
        }

        .btn-learned { background-color: var(--success-color); }
        .btn-retry { background-color: var(--warning-color); color: #2d3436; }

        #complete-screen {
            display: none;
            text-align: center;
            animation: fadeIn 0.6s ease;
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .restart-btn {
            padding: 18px 45px;
            font-size: 1.2rem;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 25px;
        }

        @media (max-width: 400px) {
            :root {
                --card-width: 92vw;
                --card-height: 70vh;
            }
        }
    </style>
</head>
<body>

    <div id="game-container">
        <div id="header">
            <h1 style="margin:0; font-size: 1.4rem;">Ultimate Vocab 5000-5200</h1>
            <div class="progress-info" id="progress-info">Loading...</div>
        </div>

        <div class="card-container" onclick="flipCard()">
            <div class="card" id="card">
                <!-- è¡¨é¢ -->
                <div class="card-face card-front">
                    <div class="word" id="word-display">Word</div>
                    <div class="phonetic" id="phonetic-display">[phonetic]</div>
                    <button class="audio-btn" onclick="playAudio(event)">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#6c5ce7" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path></svg>
                    </button>
                </div>
                <!-- è£é¢ -->
                <div class="card-face card-back">
                    <div class="translation" id="translation-display">æ—¥æœ¬èªè¨³</div>
                    <div class="meaning-box" id="meaning-display"></div>
                </div>
            </div>
        </div>

        <div class="controls" id="controls">
            <button class="action-btn btn-retry" onclick="markAsRetry()">
                ğŸ”„ ã¾ã  / è‹¦æ‰‹
            </button>
            <button class="action-btn btn-learned" onclick="markAsLearned()">
                âœ… è¦šãˆãŸ
            </button>
        </div>
    </div>

    <div id="complete-screen">
        <div style="font-size: 5rem; margin-bottom: 20px;">ğŸ†</div>
        <h2>åŸºç¤å›ºã‚ å®Œäº†ï¼</h2>
        <p>ãƒªã‚¹ãƒˆã®å˜èªã‚’ã™ã¹ã¦è¦šãˆã¾ã—ãŸã€‚</p>
        <button class="restart-btn" onclick="restart()">ã‚‚ã†ä¸€åº¦å¾©ç¿’ã™ã‚‹</button>
    </div>

    <script>
        const wordData = [
            { "Word": "jolly", "Phonetic": "[dÊ’Î¬li]", "Translation": "é™½æ°—ãª", "Meaning": "ã‚µãƒ³ã‚¿ã‚¯ãƒ­ãƒ¼ã‚¹ã®ã‚ˆã†ã«ã€ãƒ‹ã‚³ãƒ‹ã‚³ã—ã¦æ¥½ã—ãã†ãªæ§˜å­ã€‚<br>å˜ã«Happyã¨ã„ã†ã‚ˆã‚Šã€å‘¨ã‚Šã‚‚æ˜ã‚‹ãã™ã‚‹ã‚ˆã†ãªã€Œã”æ©Ÿå«Œã•ã€ã‚’è¡¨ã—ã¾ã™ã€‚" },
            { "Word": "landmine", "Phonetic": "[lÃ¦ÌndmÃ in]", "Translation": "åœ°é›·", "Meaning": "åœ°é¢ã«éš ã•ã‚ŒãŸçˆ†å¼¾ã€‚æ¯”å–©ã¨ã—ã¦ã€Œè§¦ã‚Œã¦ã¯ã„ã‘ãªã„è©±é¡Œã€ã€Œè¸ã‚€ã¨ãƒ¤ãƒã„åœ°é›·ãƒã‚¤ãƒ³ãƒˆã€ã¨ã„ã†æ„å‘³ã§ã‚‚ã‚ˆãä½¿ã‚ã‚Œã¾ã™ã€‚" },
            { "Word": "boast", "Phonetic": "[bÃ³ust]", "Translation": "è‡ªæ…¢ã™ã‚‹", "Meaning": "ã€Œä¿ºã£ã¦ã™ã”ã„ã§ã—ã‚‡ï¼ã€ã¨è‡ªåˆ†ã®æ‰‹æŸ„ã‚’é¼»ã«ã‹ã‘ã¦è©±ã™ã“ã¨ã€‚<br>èª‡ã‚‰ã—ã’ã«è¨€ã†ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹ã§ã™ã€‚" },
            { "Word": "timid", "Phonetic": "[tÃ­mid]", "Translation": "å†…æ°—ãª", "Meaning": "æ°—ãŒå°ã•ãã¦ã€ã™ãã«ãƒ“ã‚¯ãƒ“ã‚¯ã—ã¦ã—ã¾ã†æ€§æ ¼ã®ã“ã¨ã€‚æ–°ã—ã„ã“ã¨ã‚„äººå‰ã«å‡ºã‚‹ã®ã‚’æ€–ãŒã‚‹ã€Œè‡†ç—…ã•ã€ã‚’æŒ‡ã—ã¾ã™ã€‚" },
            { "Word": "courtesy", "Phonetic": "[kÉ™ÌËrtÉ™si]", "Translation": "è¦ªåˆ‡ã€ç¤¼å„€æ­£ã—ã•", "Meaning": "ç›¸æ‰‹ã‚’æ€ã„ã‚„ã£ãŸä¸å¯§ãªæŒ¯ã‚‹èˆã„ã®ã“ã¨ã€‚ãƒ›ãƒ†ãƒ«ã®ã€Œã‚µãƒ¼ãƒ“ã‚¹ã€ã‚„ã€ãƒ‰ã‚¢ã‚’é–‹ã‘ã¦å¾…ã¤ã‚ˆã†ãªã€ŒãƒãƒŠãƒ¼ã¨ã—ã¦ã®å„ªã—ã•ã€ã§ã™ã€‚" },
            { "Word": "mutter", "Phonetic": "[mÊŒÌtÉ™r]", "Translation": "ä¸æ˜ç­ãªå£°ã§è¨€ã†", "Meaning": "å£ã®ä¸­ã§ãƒœã‚½ãƒœã‚½ã¨ã€ä»–ã®äººã«èã“ãˆãªã„ã‚ˆã†ã«ã€Œã¤ã¶ã‚„ãã€ã“ã¨ã€‚ä¸æº€ãŒã‚ã‚‹ã¨ãã‚„ã€ç‹¬ã‚Šè¨€ã‚’è¨€ã†ã¨ãã®å‹•ä½œã§ã™ã€‚" },
            { "Word": "fling", "Phonetic": "[flÃ­Å‹]", "Translation": "æ”¾ã‚Šå‡ºã™", "Meaning": "å‹¢ã„ã‚ˆãã€ã‚ã‚‹ã„ã¯ç„¡é€ ä½œã«ãƒ‘ãƒƒã¨æŠ•ã’ã‚‹ã“ã¨ã€‚è„±ã„ã æœã‚’ãƒ™ãƒƒãƒ‰ã«ã€Œãƒã‚¤ãƒƒã€ã¨æŠ•ã’ã‚‹ã‚ˆã†ãªè’ã£ã½ã„å‹•ãã§ã™ã€‚" },
            { "Word": "peck", "Phonetic": "[pÃ©k]", "Translation": "ãã¡ã°ã—ã§ã¤ã¤ã", "Meaning": "é³¥ãŒã‚¨ã‚µã‚’é£Ÿã¹ã‚‹æ™‚ã®ã‚ˆã†ã«ã€é‹­ã„ã‚‚ã®ã§ãƒãƒ§ãƒ³ãƒãƒ§ãƒ³ã¨ã¤ã¤ãã“ã¨ã€‚è»½ã„ã‚­ã‚¹ï¼ˆpeck on the cheekï¼‰ã«ã‚‚ä½¿ã‚ã‚Œã¾ã™ã€‚" },
            { "Word": "shiver", "Phonetic": "[ÊƒÃ­vÉ™r]", "Translation": "èº«éœ‡ã„ã™ã‚‹", "Meaning": "å¯’ã•ã‚„ææ€–ã§ã€ä½“ãŒãƒ–ãƒ«ãƒ–ãƒ«ãƒƒã¨éœ‡ãˆã‚‹ã“ã¨ã€‚è‡ªåˆ†ã®æ„æ€ã«é–¢ä¿‚ãªãéœ‡ãˆãŒæ­¢ã¾ã‚‰ãªã„çŠ¶æ…‹ã§ã™ã€‚" },
            { "Word": "thrust", "Phonetic": "[Î¸rÊŒÌst]", "Translation": "æŠ¼ã—åˆ†ã‘ã¦é€²ã‚€", "Meaning": "å¼·ã„åŠ›ã§ã‚°ã‚¤ãƒƒã¨æŠ¼ã—è¾¼ã‚“ã ã‚Šã€äººæ··ã¿ã‚’å¼·å¼•ã«ã‹ãåˆ†ã‘ã¦é€²ã‚€ã“ã¨ã€‚é‹­ãçªãå‡ºã™ã‚ˆã†ãªåŠ›å¼·ã„å‹•ä½œã§ã™ã€‚" },
            { "Word": "defendant", "Phonetic": "[difÃ©ndÉ™nt]", "Translation": "è¢«å‘Šäºº", "Meaning": "è£åˆ¤ã§ã€Œè¨´ãˆã‚‰ã‚Œã¦ã„ã‚‹å´ã€ã®äººã€‚<br>ã€Œå®ˆã‚‹ï¼ˆdefendï¼‰ã€ç«‹å ´ã«ã‚ã‚‹äººã€ã¨è¦šãˆã‚‹ã¨åˆ†ã‹ã‚Šã‚„ã™ã„ã§ã™ã€‚" }
        ];

        let activeWords = [...wordData];
        let currentIndex = 0;

        const cardEl = document.getElementById('card');
        const wordEl = document.getElementById('word-display');
        const phoneticEl = document.getElementById('phonetic-display');
        const translationEl = document.getElementById('translation-display');
        const meaningEl = document.getElementById('meaning-display');
        const progressEl = document.getElementById('progress-info');
        const gameContainer = document.getElementById('game-container');
        const completeScreen = document.getElementById('complete-screen');

        let synth = window.speechSynthesis;
        let voices = [];

        function loadVoices() {
            voices = synth.getVoices();
        }
        loadVoices();
        if (speechSynthesis.onvoiceschanged !== undefined) {
            speechSynthesis.onvoiceschanged = loadVoices;
        }

        function updateCard() {
            if (activeWords.length === 0) {
                showComplete();
                return;
            }
            const current = activeWords[currentIndex];
            wordEl.textContent = current.Word;
            phoneticEl.textContent = current.Phonetic;
            translationEl.textContent = current.Translation;
            meaningEl.innerHTML = current.Meaning;
            
            cardEl.classList.remove('is-flipped');
            progressEl.textContent = `${wordData.length - activeWords.length} / ${wordData.length} å®Œäº† (æ®‹ã‚Š ${activeWords.length} æš)`;
        }

        function flipCard() {
            cardEl.classList.toggle('is-flipped');
        }

        function playAudio(event) {
            event.stopPropagation();
            const text = activeWords[currentIndex].Word;
            const utter = new SpeechSynthesisUtterance(text);
            const preferredVoices = ["Google US English", "Samantha", "Alex", "Microsoft Zira"];
            const voice = voices.find(v => preferredVoices.some(p => v.name.includes(p))) || voices.find(v => v.lang.startsWith('en'));
            if (voice) utter.voice = voice;
            utter.lang = 'en-US';
            utter.rate = 0.9;
            synth.speak(utter);
        }

        function markAsLearned() {
            activeWords.splice(currentIndex, 1);
            if (currentIndex >= activeWords.length) currentIndex = 0;
            updateCard();
        }

        function markAsRetry() {
            currentIndex = (currentIndex + 1) % activeWords.length;
            updateCard();
        }

        function showComplete() {
            gameContainer.style.display = 'none';
            completeScreen.style.display = 'block';
        }

        function restart() {
            activeWords = [...wordData];
            currentIndex = 0;
            gameContainer.style.display = 'block';
            completeScreen.style.display = 'none';
            updateCard();
        }

        window.onload = updateCard;
    </script>
</body>
</html>
